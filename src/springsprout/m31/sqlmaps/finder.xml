<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="finder">
    <resultMap id="tree" class="springsprout.m31.domain.FinderTree">
        <result property="id" column="ID"/>
        <result property="text" column="FILE_NAME"/>
        <result property="defaultYn" column="DEFAULT_YN"/>
        <result property="parentId" column="PARENT_ID"/>
        <result property="iconCls" column="ICONCLS"/>
    </resultMap>

    <select id="getTree" resultMap="tree" parameterClass="hashMap">
        SELECT
            ID,
            FILE_NAME,
            PARENT_ID,
            DEFAULT_YN,
            ICONCLS
        FROM SPRING_FINDER
            WHERE MEMBER_ID = #memberId#
            AND PARENT_ID = #parentId#
            AND FILE_TYPE = 'F'
    </select>
</sqlMap>